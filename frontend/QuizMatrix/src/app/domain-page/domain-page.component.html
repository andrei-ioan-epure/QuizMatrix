<button mat-raised-button class="backBtn" routerLink="/domains">
  <mat-icon class="iconBack">arrow_back</mat-icon>
  Back
</button>

<div class="domain-page">
  <div class="leaderboard-container">
    <h2>Clasament {{ selectedDomain }}</h2>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Name</th>
          <th>Score</th>
          <th>Time</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="
            let user of users
              | slice
                : currentPage * itemsPerPage
                : (currentPage + 1) * itemsPerPage
          "
        >
          <td>{{ user.rank }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.score }}</td>
          <td>
            {{
              floor(user.time / 60)
                .toString()
                .padStart(2, "0") +
                ":" +
                (user.time % 60).toString().padStart(2, "0")
            }}
          </td>
        </tr>
      </tbody>
    </table>

    <div class="buttons-container">
      <div class="button-container">
        <button class="btn" [disabled]="currentPage === 0" (click)="prevPage()">
          Previous
        </button>
      </div>
      <span>Page {{ currentPage + 1 }} of {{ pageCount() }}</span>
      <div class="button-container">
        <button
          class="btn"
          [disabled]="currentPage >= users.length / itemsPerPage - 1"
          (click)="nextPage()"
        >
          Next
        </button>
      </div>
    </div>

    <div class="statistics">
      <p>Average Score: {{ averageScore | number : "1.0-2" }}</p>
      <p>Average Time: {{ averageTime | number : "1.0-2" }} minutes</p>
    </div>
  </div>

  <div class="quizzes">
    <h2>Teste</h2>
    <table>
      <thead>
        <tr>
          <th>Nume Test</th>
          <th>Scor</th>
          <th>Durată</th>
          <th>Acțiuni</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let test of teste">
          <td>{{ test.nume }}</td>
          <td>{{ test.scor }}</td>
          <td>{{ test.durata }}</td>
          <td class="actiuni-cell">
            <button
              mat-raised-button
              class="btn2"
              (click)="startQuiz(test.nume, 'singleplayer')"
            >
              Singleplayer
            </button>
            <button
              mat-raised-button
              class="btn2"
              (click)="startQuiz(test.nume, 'multiplayer')"
            >
              Multiplayer
            </button>
            <button mat-raised-button class="btn2" routerLink="/leaderboard">
              Leaderboard
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <br />
    <br />
  </div>
</div>
